---
// src/pages/mindmap.astro
import Layout from "../layouts/Layout.astro";
import Sidebar from "../components/Sidebar.astro";
---

<Layout>
  <Sidebar />
<main style="flex: 1; padding: 2rem;">
  <div class="diagram-container">
    <h1>Brainstorming</h1>
    <p>En tankesmedja utan dess likefjfipeqjfqepofjqepofjqefpoqefjeqopfjqefopewjfewpofjewfipewjfewjifpewmfkewfnewipfnqemfijqefmqeklfneifpem.</p>
    
    <div id="mermaid-diagram"></div>
  </div>
</main>
</Layout>

<script>
  const diagramDefinition = `
    mindmap
      root((brainstorming))
        Origins
          Long history
          ::icon(fa fa-book)
          Popularisation
            British popular psychology author Tony Buzan
        Research
          On effectiveness<br/>and features
          On Automatic creation
            Uses
                Creative techniques
                Strategic planning
                Argument mapping
        Tools
          Pen and paper
          Mermaid
  `;

  // Lägg till Mermaid CDN och rendera
  const script = document.createElement('script');
  script.src = 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js';
  script.onload = function() {
    mermaid.initialize({ startOnLoad: false, theme: 'default' });
    mermaid.render('mermaid-svg', diagramDefinition).then(({svg}) => {
      document.getElementById('mermaid-diagram').innerHTML = svg;
    });
  };
  document.head.appendChild(script);
</script>

<style>
  main {
    display: flex;
    flex-direction: column;
  }

    .diagram-container {
    max-width: 100%;
    margin: 0 auto;
    text-align: center;
    background: #111113;
    padding: 2rem;
    border-radius: 8px;
  }
  
  h1 {
    color: var(--crimson-11);
    font-size: 2rem;
    margin-bottom: 1rem;
  }
  
  p {
    color: var(--gray-11);
    margin-bottom: 2rem;
    font-size: 1.1rem;
  }
  
  #mermaid-diagram {
    margin-top: 2rem;
    text-align: center;
    width: 100%;
  }
  
  /* Radix-färger för Mermaid-diagrammet */
  #mermaid-diagram svg .node rect,
  #mermaid-diagram svg .node circle {
    fill: var(--crimson-9) !important;
    stroke: var(--crimson-11) !important;
    stroke-width: 2px !important;
  }
  
  #mermaid-diagram svg .node text {
    fill: var(--gray-1) !important;
    font-weight: 600 !important;
  }
  
  #mermaid-diagram svg .edge {
    stroke: var(--crimson-8) !important;
    stroke-width: 2px !important;
  }
</style>
